(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{"06d4":function(t,e,a){"use strict";var i=a("9dd3"),s=a.n(i);s.a},"129a":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"d",(function(){return s})),a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return r}));a("5df3"),a("1c4c"),a("34ef"),a("6b54"),a("06db");var i="/api",s=function(t,e){for(var a in e)e[a]=a===t};function n(t){return("0"+t.toString(16)).substr(-2)}var o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",a=t.getMonth()<9?"0"+(t.getMonth()+1):t.getMonth()+1,i=t.getDate()<10?"0"+t.getDate():t.getDate();return t.getFullYear()+e+a+e+i},r=function(t){var e=new Uint8Array((t||40)/2);return window.crypto.getRandomValues(e),Array.from(e,n).join("")}},"474f":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:t.showForm,callback:function(e){t.showForm=e},expression:"showForm"}},[a("q-card",{staticStyle:{width:"700px","max-width":"80vw"}},[a("q-card-section",{staticClass:"bg-red-5"},[t._v("\n      "+t._s(t.title)+"\n    ")]),a("q-separator"),a("q-card-section",[a("p",[t._v("Seguro que desea eliminar: "),t._l(t.targets_,(function(e){return a("b",{key:e},[t._v(" "+t._s(t.item[e])+" ")])})),t._v(" ?")],2),a("p",[t._v("Esta operaciÃ³n es irrevercible!")])]),a("q-separator"),a("q-card-actions",{attrs:{align:"right"}},[""!==t.item.description?a("q-btn",{attrs:{dense:"",label:"Eliminar",color:"negative"},on:{click:t.eraser}}):t._e(),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",label:"Cerrar"},on:{click:t.close}})],1)],1)],1)},s=[],n=(a("28a5"),a("129a")),o={name:"DeleteItem",props:["showFormDelete","url","item","title","targets"],data:function(){return{showForm:!1}},computed:{targets_:function(){return this.targets.indexOf(",")>0?this.targets.split(","):[this.targets]}},watch:{showFormDelete:function(){this.showForm=this.showFormDelete}},methods:{eraser:function(){var t=this;this.$axios.post(n["a"]+this.url,{id:this.item.id}).then((function(e){t.$noty.positive(e.data),t.$emit("updateList")})).catch((function(e){t.$emit("updateList"),t.$noty.negative(e.response.data)}))},close:function(){this.$emit("updateList")}}},r=o,l=a("2877"),c=a("24e8"),d=a("f09f"),m=a("a370"),u=a("eb85"),p=a("4b7e"),h=a("9c40"),f=a("7f67"),b=a("eebe"),v=a.n(b),g=Object(l["a"])(r,i,s,!1,null,null,null);e["a"]=g.exports;v()(g,"components",{QDialog:c["a"],QCard:d["a"],QCardSection:m["a"],QSeparator:u["a"],QCardActions:p["a"],QBtn:h["a"]}),v()(g,"directives",{ClosePopup:f["a"]})},"9dd3":function(t,e,a){},ca39:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:" q-pa-md"},[a("div",{staticClass:"gt-xs row flex q-mb-md"},[a("q-breadcrumbs",{staticClass:"text-grey"},[a("q-breadcrumbs-el",{attrs:{label:"Servicios"}}),a("q-breadcrumbs-el",{attrs:{label:"Listado"}}),t.views.news?a("q-breadcrumbs-el",{attrs:{label:"Nueva"}}):t._e()],1)],1),a("div",{attrs:{id:"print",hidden:""}},[a("span",{staticStyle:{"font-size":"8px","margin-left":"25px"}},[t._v(t._s(t.toPrint.name.substr(0,17)))]),a("br"),a("span",{staticStyle:{"writing-mode":"vertical-lr",transform:"translateY(-40px)  rotate(180deg)","font-size":"12px"}},[t._v(t._s(t.toPrint.codeAnalysis))]),a("barcode",{attrs:{value:t.toPrint.barcode,options:t.qbOptions2,tag:"svg"}})],1),t.views.list?a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-8 col-xs-12"},[a("q-btn",{attrs:{color:"primary",label:"Nueva"},on:{click:t.newItem}})],1),a("div",{staticClass:"col-lg-4 col-xs-12 flex flex-inline"},[a("q-input",{staticStyle:{width:"49%"},attrs:{dense:"",autofocus:"",type:t.filter.field.type,debounce:"300","stack-label":"",label:"filtro..."},model:{value:t.filter.val,callback:function(e){t.$set(t.filter,"val",e)},expression:"filter.val"}}),a("q-select",{staticStyle:{width:"50%"},attrs:{dense:"",options:t.filerOptions,label:"filtro por..."},scopedSlots:t._u([{key:"option",fn:function(e){return[a("q-item",t._g(t._b({},"q-item",e.itemProps,!1),e.itemEvents),[a("q-item-section",[a("q-item-label",{attrs:{caption:""}},[t._v(t._s(e.opt.label))])],1)],1)]}}],null,!1,1963659883),model:{value:t.filter.field,callback:function(e){t.$set(t.filter,"field",e)},expression:"filter.field"}})],1)]),a("div",{staticClass:"row flex"},[a("div",{staticClass:"col-lg-12 col-xs-12 q-mt-xs"},[a("q-card",[a("q-separator"),a("q-card-section",{staticClass:"section-fix"},[a("q-table",{attrs:{flat:"",data:t.datas,columns:t.columns,"row-key":"id",loading:t.loading,pagination:t.pagination,"no-data-label":t.dataLabel,"binary-state-sort":""},on:{"update:pagination":function(e){t.pagination=e},request:t.getList},scopedSlots:t._u([{key:"body-cell-balance",fn:function(e){return[a("q-td",{attrs:{props:e}},[e.value>0?a("div",[a("q-badge",{staticClass:"text-black",attrs:{color:"red",label:e.value}})],1):a("div",[a("span",[t._v("--")])])])]}},{key:"body-cell-actions",fn:function(e){return[a("q-td",{attrs:{props:e}},[a("q-btn",{attrs:{color:"primary",flat:"",icon:"fa fa-ellipsis-h"}},[a("q-menu",{attrs:{"transition-show":"flip-right","transition-hide":"flip-left",offset:[-50,0]}},[a("q-list",{staticStyle:{"min-width":"100px"}},[1===e.row.status_id?a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return t.editItem(e.row)}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{color:"secondary",name:"fa fa-edit"}})],1),a("q-item-section",[t._v("Actualizar")])],1):t._e(),1===e.row.status_id?a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return t.eraserShow(e.row)}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{color:"negative",name:"fa fa-eraser"}})],1),a("q-item-section",[t._v("Eliminar")])],1):t._e(),a("q-separator"),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return t.printQr(e.row)}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{color:"blue",name:"fa fa-barcode"}})],1),a("q-item-section",[t._v("Codigo Barra")])],1),a("q-item",{attrs:{clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{color:"purple",name:"fa fa-vials"}})],1),a("q-item-section",[t._v("Analisis")]),a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"keyboard_arrow_right"}})],1),a("q-menu",{attrs:{anchor:"top right",self:"top left"}},[a("q-list",{staticStyle:{"min-width":"100px"}},t._l(e.row.analysis,(function(i){return a("div",{key:i.id},[a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return t.showEditorAnalysis(i.id,e.row.status_id)}}},[a("q-item-section",[t._v(" "+t._s(i.description.substr(0,20))+"...")])],1),a("q-separator")],1)})),0)],1)],1)],1),1===e.row.status_id?a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return t.formChangeStatusService(e.row)}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{color:"green",name:"fa fa-envelope"}})],1),a("q-item-section",[t._v("Entregar")])],1):t._e(),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{color:"brown",name:"fa fa-at"}})],1),a("q-item-section",[t._v("Enviar correo")])],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{color:"cyan",name:"fa fa-globe"}})],1),a("q-item-section",[t._v("Publicar a web")])],1)],1)],1)],1)]}}],null,!1,3138826835)})],1)],1)],1)])]):t._e(),t.views.news?a("div",[a("q-card",{staticStyle:{width:"100%"}},[a("q-card-section",[t._v("\n        "+t._s(t.titleForm)+"\n      ")]),a("q-separator"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-2 col-md-3 col-sm-12 col-xs-12 q-pa-sm"},[a("q-input",{staticClass:"q-mb-sm",attrs:{dense:"",outlined:"",type:"date"},model:{value:t.item.moment,callback:function(e){t.$set(t.item,"moment",e)},expression:"item.moment"}})],1),a("div",{staticClass:"col-lg-4 col-md-4 col-sm-12 col-xs-12 q-pa-sm"},[a("q-select",{staticClass:"q-mb-sm",attrs:{"use-input":"",disable:t.isItemEdit,"input-debounce":"0",dense:"",outlined:"",options:t.clientsSearch,"option-label":"names","option-value":"id","map-options":"",autofocus:"",label:"Cliente"},on:{filter:t.filterFnClients},scopedSlots:t._u([{key:"option",fn:function(e){return[a("q-item",t._g(t._b({},"q-item",e.itemProps,!1),e.itemEvents),[a("q-item-section",[a("q-item-label",{attrs:{caption:""}},[t._v(t._s(e.opt.names))])],1)],1)]}},{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[t._v("\n                  Sin resultados\n                ")])],1)]},proxy:!0}],null,!1,1570290304),model:{value:t.client,callback:function(e){t.client=e},expression:"client"}}),a("q-btn",{on:{click:function(e){t.showFormClient=!0}}},[t._v("+")])],1),a("div",{staticClass:"col-lg-3 col-md-3 col-sm-12 col-xs-12 q-pa-sm"},[a("q-select",{staticClass:"q-mb-sm",attrs:{"use-input":"","input-debounce":"0",dense:"",outlined:"",options:t.doctorsSearch,"option-label":"names","option-value":"id","map-options":"",label:"Doctores"},on:{filter:t.filterFnDoctors},scopedSlots:t._u([{key:"option",fn:function(e){return[a("q-item",t._g(t._b({},"q-item",e.itemProps,!1),e.itemEvents),[a("q-item-section",[a("q-item-label",{attrs:{caption:""}},[t._v(t._s(e.opt.names))])],1)],1)]}},{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[t._v("\n                  Sin resultados\n                ")])],1)]},proxy:!0}],null,!1,1570290304),model:{value:t.doctor,callback:function(e){t.doctor=e},expression:"doctor"}}),a("q-btn",{on:{click:function(e){t.showFormDoctor=!0}}},[t._v("+")])],1),null!==t.client&&""!==t.item.barcode?a("div",{staticStyle:{position:"absolute",left:"calc(70vw - 80px)"}},[a("span",{staticStyle:{"font-size":"10px","margin-left":"10px"}},[t._v(t._s(t.client.names.substr(0,16)))]),a("br"),a("span",{staticClass:"texto-vertical"},[t._v(t._s(t.item.code))]),a("barcode",{attrs:{value:t.item.barcode,options:t.qbOptions,tag:"img"}})],1):t._e()]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-1 col-md-1 col-sm-1 col-xs-1 q-pa-sm"},[a("q-btn",{staticStyle:{"background-color":"brown",color:"wheat"},attrs:{label:"Analisis"},on:{click:t.newItemDetail}})],1),a("div",{staticClass:"col-lg-2 col-md-3 col-sm-12 col-xs-12 q-pa-sm"},[a("q-input",{directives:[{name:"only-numbers",rawName:"v-only-numbers"}],staticClass:"q-mb-sm",attrs:{dense:"",outlined:"",label:"Descuento"},model:{value:t.item.discount,callback:function(e){t.$set(t.item,"discount",t._n(e))},expression:"item.discount"}})],1),a("div",{staticClass:"col-lg-2 col-md-12 col-sm-12 col-xs-12 q-pa-sm"},[a("q-input",{directives:[{name:"only-numbers",rawName:"v-only-numbers"}],staticClass:"q-mb-sm",attrs:{dense:"",outlined:"",label:"Pagado"},model:{value:t.item.advance,callback:function(e){t.$set(t.item,"advance",t._n(e))},expression:"item.advance"}})],1),a("div",{staticClass:"col-lg-2 col-md-12 col-sm-12 col-xs-12 q-pa-sm"},[a("q-input",{staticClass:"q-mb-md",attrs:{dense:"",outlined:"",label:"Codigo de barra"},model:{value:t.item.barcode,callback:function(e){t.$set(t.item,"barcode",e)},expression:"item.barcode"}})],1),a("div",{staticClass:"col-lg-2 col-md-12 col-sm-12 col-xs-12 q-pa-sm"},[a("q-input",{staticClass:"q-mb-md",attrs:{dense:"",outlined:"",label:"Cantidad de etiquetas"},model:{value:t.item.barcode_quantity,callback:function(e){t.$set(t.item,"barcode_quantity",t._n(e))},expression:"item.barcode_quantity"}})],1)]),a("q-card-section",{staticClass:"section-fix"},[a("q-table",{attrs:{flat:"",square:"",data:t.item.analysis,columns:t.productsColumns,"row-key":"id",loading:t.loading,"no-data-label":t.dataLabel},on:{request:t.getList},scopedSlots:t._u([{key:"body-cell-actions",fn:function(e){return[a("q-td",{attrs:{props:e}},[a("q-btn",{staticClass:"q-mr-xs",attrs:{dense:"",color:"secondary",icon:"fa fa-edit"},on:{click:function(a){return t.editItemDetail(e.row)}}}),a("q-btn",{attrs:{dense:"",color:"negative",icon:"fa fa-eraser"},on:{click:function(a){return t.eraserShowItemDetail(e.row)}}})],1)]}},{key:"bottom-row",fn:function(){return[a("q-tr",[a("q-td",{staticClass:"text-right"},[t._v("\n                Subtotal\n              ")]),a("q-td",{staticClass:"text-left"},[a("span",[t._v(t._s(t.getSubTotal))])]),a("q-td",{staticClass:"text-right"},[a("span",{staticStyle:{"font-size":"18px"}},[t._v("Total")])]),a("q-td",{staticClass:"text-left"},[a("b",[a("span",{staticClass:"text-black",staticStyle:{"font-size":"18px"}},[t._v(t._s(t.getTotal))])])])],1)]},proxy:!0}],null,!1,2425337668)})],1),a("q-separator"),a("div",{staticClass:"col-lg-12 col-md-12 col-sm-12 col-xs-12 q-pa-sm"},[a("q-input",{attrs:{dense:"",outlined:"",autogrow:"",type:"textarea",label:"Nota"},model:{value:t.item.note,callback:function(e){t.$set(t.item,"note",e)},expression:"item.note"}})],1),a("q-separator"),a("q-card-section",[t.IsSaveWard()?a("q-btn",{staticClass:"q-mr-xs",attrs:{dense:"",label:"Guardar servicio",color:"positive"},on:{click:function(e){return t.saveItem()}}}):t._e(),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",label:"Cerrar"},on:{click:function(e){return t.close()}}})],1)],1)],1):t._e(),a("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:t.showFormDetail,callback:function(e){t.showFormDetail=e},expression:"showFormDetail"}},[a("q-card",{staticStyle:{width:"700px","max-width":"80vw"}},[a("q-card-section",[t._v("\n        AÃ±adir analisis\n      ")]),a("q-separator"),a("q-card-section",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12 col-xs-12"},[a("q-select",{staticClass:"q-mb-sm",attrs:{"use-input":"",disable:t.isItemDetailEdit,"input-debounce":"0",dense:"",outlined:"",options:t.analysisSearch,"option-label":"description","option-value":"id","map-options":"",autofocus:""},on:{filter:t.filterFn,input:t.setItemDet},scopedSlots:t._u([{key:"option",fn:function(e){return[a("q-item",t._g(t._b({},"q-item",e.itemProps,!1),e.itemEvents),[a("q-item-section",[a("q-item-label",{attrs:{caption:""}},[t._v(t._s(e.opt.description))])],1)],1)]}},{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[t._v("\n                    Sin resultados!\n                  ")])],1)]},proxy:!0}]),model:{value:t.analysis_aux,callback:function(e){t.analysis_aux=e},expression:"analysis_aux"}}),a("q-input",{staticClass:"q-mb-md",attrs:{dense:"",outlined:"",label:"Precio"},model:{value:t.itemDetail.price,callback:function(e){t.$set(t.itemDetail,"price",e)},expression:"itemDetail.price"}}),a("q-separator",{staticClass:"q-mb-md"})],1)])]),a("q-separator"),a("q-card-actions",{attrs:{align:"right"}},[t.IsSaveDetail()?a("q-btn",{attrs:{dense:"",label:"Guardar",color:"positive"},on:{click:function(e){return t.addItemDetail()}}}):t._e(),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",label:"Cerrar"}})],1)],1)],1),a("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:t.showEditResult,callback:function(e){t.showEditResult=e},expression:"showEditResult"}},[a("q-card",{staticStyle:{width:"900px","max-width":"80vw"}},[a("q-card-section",{staticClass:"bg-purple-5"},[t._v("\n        Resultados\n      ")]),a("q-separator"),a("q-card-section",[a("froala",{attrs:{id:"edit",tag:"textarea",config:t.config},model:{value:t.dataResult.content,callback:function(e){t.$set(t.dataResult,"content",e)},expression:"dataResult.content"}})],1),a("q-separator"),a("q-card-actions",{attrs:{align:"right"}},[1===t.statusEditResult?a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",label:"Guardar",color:"positive"},on:{click:t.saveContentResult}}):t._e(),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",label:"Cerrar"}})],1)],1)],1),a("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:t.showFormDeleteItem,callback:function(e){t.showFormDeleteItem=e},expression:"showFormDeleteItem"}},[a("q-card",{staticStyle:{width:"700px","max-width":"80vw"}},[a("q-card-section",{staticClass:"bg-red-5"},[t._v("\n        Eliminar detalle\n      ")]),a("q-separator"),a("q-card-section",[a("p",[t._v("Seguro que desea eliminar: "),a("b",[t._v(" "+t._s(this.itemDetail.description))]),t._v(" ?")]),a("p",[t._v("Esta operaciÃ³n es irrevercible!")])]),a("q-separator"),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",label:"Eliminar",color:"negative"},on:{click:t.eraserItemDetail}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",label:"Cerrar"}})],1)],1)],1),a("ClientAdd",{attrs:{showFormClient:t.showFormClient,act:"post"},on:{update:t.getClientList,close:t.closeFormClient}}),a("DoctorAdd",{attrs:{showFormDoctor:t.showFormDoctor,act:"post"},on:{update:t.getDoctorList,close:t.closeFormDoctor}}),a("form-change-service-status",{attrs:{show:t.showFormChangeStatusService,item:t.item},on:{update:t.getListUpdate,close:function(e){t.showFormChangeStatusService=!1}}}),a("delete-item",{attrs:{showFormDelete:t.showFormDelete,item:t.item,title:"Eliminar servicio",url:"/services/eraser",targets:"client,analysis_description"},on:{updateList:t.updateOfEraser}})],1)},s=[],n=(a("8e6e"),a("8a81"),a("ac6a"),a("cadf"),a("06db"),a("456d"),a("7514"),a("c47a")),o=a.n(n),r=(a("a481"),a("3723")),l=a.n(r),c=a("129a"),d=a("474f"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("q-card",{staticStyle:{width:"700px","max-width":"80vw"}},[a("q-card-section",[t._v("\n      AÃ±adir cliente\n    ")]),a("q-separator"),a("q-card-section",[a("q-input",{ref:"name",staticClass:"q-mb-xs",attrs:{dense:"",outlined:"",autofocus:"",label:"Nombres"},model:{value:t.item.names,callback:function(e){t.$set(t.item,"names",e)},expression:"item.names"}}),a("span",[t._v("Fecha de nacimiento")]),a("q-input",{staticClass:"q-mb-sm",attrs:{dense:"",outlined:"",type:"date"},model:{value:t.item.birthday,callback:function(e){t.$set(t.item,"birthday",e)},expression:"item.birthday"}}),a("q-input",{staticClass:"q-mb-xs",attrs:{dense:"",outlined:"",label:"Direccion"},model:{value:t.item.address,callback:function(e){t.$set(t.item,"address",e)},expression:"item.address"}}),a("q-input",{staticClass:"q-mb-xs",attrs:{dense:"",outlined:"",label:"Correo"},model:{value:t.item.email,callback:function(e){t.$set(t.item,"email",e)},expression:"item.email"}}),a("q-input",{directives:[{name:"only-int-numbers",rawName:"v-only-int-numbers"}],attrs:{dense:"",outlined:"",label:"Telefono"},model:{value:t.item.telf,callback:function(e){t.$set(t.item,"telf",e)},expression:"item.telf"}})],1),a("q-separator"),a("q-card-actions",{attrs:{align:"right"}},[t.validateSave?a("q-btn",{attrs:{dense:"",label:"Guardar",color:"positive"},on:{click:t.saveItem}}):t._e(),a("q-btn",{attrs:{dense:"",flat:"",label:"Cerrar"},on:{click:t.close}})],1)],1)],1)},u=[];function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function h(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(Object(a),!0).forEach((function(e){o()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var f={name:"ClientAdd",props:["showFormClient","act"],computed:{validateSave:function(){return""!==this.item.names&&this.item.birthday}},data:function(){return{show:!1,item:{id:0,names:"",birthday:"",address:"",email:"",telf:""},itemClear:{id:0,names:"",birthday:"",address:"",email:"",telf:""}}},watch:{showFormClient:function(){this.show=this.showFormClient}},methods:{close:function(){this.item=h({},this.itemClear),this.$emit("close")},saveItem:function(){var t=this;this.$axios({method:"post",url:c["a"]+"/clients/"+this.act,data:this.item}).then((function(){t.$emit("update")}))}}},b=f,v=a("2877"),g=a("24e8"),w=a("f09f"),q=a("a370"),y=a("eb85"),C=a("27f9"),_=a("4b7e"),x=a("9c40"),D=a("eebe"),S=a.n(D),F=Object(v["a"])(b,m,u,!1,null,"e42ccdb4",null),O=F.exports;S()(F,"components",{QDialog:g["a"],QCard:w["a"],QCardSection:q["a"],QSeparator:y["a"],QInput:C["a"],QCardActions:_["a"],QBtn:x["a"]});var k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("q-card",{staticStyle:{width:"700px","max-width":"80vw"}},[a("q-card-section",[t._v("\n      AÃ±adir Doctor\n    ")]),a("q-separator"),a("q-card-section",[a("q-input",{ref:"name",staticClass:"q-mb-xs",attrs:{dense:"",outlined:"",autofocus:"",label:"Nombres"},model:{value:t.item.names,callback:function(e){t.$set(t.item,"names",e)},expression:"item.names"}}),a("q-input",{staticClass:"q-mb-xs",attrs:{dense:"",outlined:"",label:"Correo"},model:{value:t.item.email,callback:function(e){t.$set(t.item,"email",e)},expression:"item.email"}}),a("q-input",{directives:[{name:"only-int-numbers",rawName:"v-only-int-numbers"}],attrs:{dense:"",outlined:"",label:"Telefono"},model:{value:t.item.telf,callback:function(e){t.$set(t.item,"telf",e)},expression:"item.telf"}})],1),a("q-separator"),a("q-card-actions",{attrs:{align:"right"}},[t.validateSave?a("q-btn",{attrs:{dense:"",label:"Guardar",color:"positive"},on:{click:t.saveItem}}):t._e(),a("q-btn",{attrs:{dense:"",flat:"",label:"Cerrar"},on:{click:t.close}})],1)],1)],1)},I=[];function E(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function $(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?E(Object(a),!0).forEach((function(e){o()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Q={name:"DoctorAdd",props:["showFormDoctor","act"],computed:{validateSave:function(){return""!==this.item.names}},data:function(){return{show:!1,item:{id:0,names:"",email:"",telf:""},itemClear:{id:0,names:"",email:"",telf:""}}},watch:{showFormDoctor:function(){this.show=this.showFormDoctor}},methods:{close:function(){this.item=$({},this.itemClear),this.$emit("close")},saveItem:function(){var t=this;this.$axios({method:"post",url:c["a"]+"/doctors/"+this.act,data:this.item}).then((function(){t.$emit("update")}))}}},j=Q,P=Object(v["a"])(j,k,I,!1,null,"1508e5d1",null),A=P.exports;S()(P,"components",{QDialog:g["a"],QCard:w["a"],QCardSection:q["a"],QSeparator:y["a"],QInput:C["a"],QCardActions:_["a"],QBtn:x["a"]});var L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:t.showForm,callback:function(e){t.showForm=e},expression:"showForm"}},[a("q-card",{staticStyle:{width:"700px","max-width":"80vw"}},[a("q-card-section",{staticClass:"bg-blue"},[t._v("\n      Entregar resultados\n    ")]),a("q-separator"),a("q-card-section",[a("p",[t._v("El cliente:  "),a("b",[t._v(t._s(t.item.client))]),t._v(" aun no salda el servicio: "),a("b",[a("b",[t._v(t._s(t.item.balance))])]),t._v(" restantes")]),a("q-checkbox",{attrs:{label:"Saldar monto"},model:{value:t.saldar,callback:function(e){t.saldar=e},expression:"saldar"}})],1),a("q-separator"),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{disable:!t.saldar,dense:"",label:"Aplicar",color:"negative"},on:{click:t.changeStatusService}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",label:"Cerrar"},on:{click:t.close}})],1)],1)],1)},N=[],R={name:"FormChangeServiceStatus",props:["show","item"],data:function(){return{showForm:!1,saldar:!1}},watch:{show:function(){this.showForm=this.show,this.saldar=!1}},methods:{changeStatusService:function(){var t=this;this.$axios.post(c["a"]+"/services/set-status",{id:this.item.id}).then((function(e){t.$noty.positive(e.data),t.$emit("update")}))},close:function(){this.$emit("close")}}},T=R,B=a("8f8e"),z=a("7f67"),G=Object(v["a"])(T,L,N,!1,null,"508bf23b",null),M=G.exports;function Y(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function U(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Y(Object(a),!0).forEach((function(e){o()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Y(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}S()(G,"components",{QDialog:g["a"],QCard:w["a"],QCardSection:q["a"],QSeparator:y["a"],QCheckbox:B["a"],QCardActions:_["a"],QBtn:x["a"]}),S()(G,"directives",{ClosePopup:z["a"]});var X={name:"services",components:{DeleteItem:d["a"],barcode:l.a,ClientAdd:O,DoctorAdd:A,FormChangeServiceStatus:M},data:function(){return{config:{height:300},showFormClient:!1,showFormDoctor:!1,statusEditResult:1,showEditResult:!1,dataResult:{id:0,content:""},tinyOptions:{height:"40vh",language_url:"../statics/es.js",menubar:!1},tool:"formatselect | bold italic strikethrough forecolor backcolor | alignleft aligncenter alignright alignjustify | numlist bullist outdent indent | removeformat| table preview print",client:null,doctor:null,analysis_aux:null,toPrint:{name:"",codeAnalysis:"",barcode:"12345"},qbOptions:{width:1,height:70,margin:1,fontSize:15,format:"CODE128"},qbOptions2:{width:1,height:60,margin:1,fontSize:12,format:"CODE128"},pagination:{sortBy:"status_id",descending:!1,page:1,rowsPerPage:10,rowsNumber:0},datas:[],errors:[],views:{list:!0,news:!1},columns:[{name:"moment",required:!0,label:"FECHA",align:"left",field:"moment",format:function(t){return new Date(t.replace(/-/g,"/")).toLocaleDateString()},headerClasses:"bg-primary text-white",sortable:!0},{name:"barcode",required:!0,label:"QB",align:"left",field:"barcode",headerClasses:"bg-primary text-white",sortable:!0},{name:"client_id",required:!0,label:"Cliente",align:"left",field:"client",headerClasses:"bg-primary text-white",sortable:!0},{name:"analysis_description",required:!0,label:"ANALISIS",align:"left",field:"analysis_description",headerClasses:"bg-primary text-white"},{name:"doctor",required:!0,label:"DOCTOR",align:"left",field:"doctor",headerClasses:"bg-primary text-white",sortable:!0},{name:"price",required:!0,label:"PRECIO",align:"left",field:"price",headerClasses:"bg-primary text-white",sortable:!0},{name:"advance",required:!0,label:"PAGADO",align:"left",field:"advance",headerClasses:"bg-primary text-white"},{name:"balance",required:!0,label:"SALDO",align:"left",field:"balance",headerClasses:"bg-primary text-white"},{name:"status_id",required:!0,label:"ESTADO",align:"left",field:"status",headerClasses:"bg-primary text-white",sortable:!0},{name:"actions",label:"ACCIONES",field:"",align:"center",headerClasses:"bg-primary text-white"}],act:"post",dataLabel:"Cargando datos...",withCant:!1,cantSendToInventory:0,showFormDetail:!1,showFormDelete:!1,showApplyForm:!1,showFormDeleteItem:!1,titleForm:"",filter:{field:{value:"moment",label:"Fecha",type:"date"},val:""},filerOptions:[{value:"moment",label:"Fecha",type:"date",join:null},{value:"barcode",label:"CB",type:"text",join:null},{value:"clients.names",label:"Cliente",type:"text",join:"clients"}],loading:!1,item:{id:0,moment:"",client_id:"",status_id:1,doctor_id:"",price:0,barcode:"",barcode_quantity:1,discount:0,advance:0,analysis:[]},itemClear:{id:0,moment:"",client_id:"",doctor_id:"",price:0,barcode:"",barcode_quantity:1,discount:0,advance:0,status_id:1,analysis:[]},clients:[],doctors:[],clientsSearch:[],doctorsSearch:[],analysis:[],analysisSearch:[],isItemEdit:!1,isItemDetailEdit:!1,itemDetail:{id:null,analysis_id:null,description:"",price:0},itemDetailClear:{id:null,analysis_id:null,description:"",price:0},productsColumns:[{name:"code",required:!0,label:"CODIGO",align:"left",field:"code",headerClasses:"bg-primary text-white",sortable:!0},{name:"description",required:!0,label:"Analisis",align:"left",field:"description",headerClasses:"bg-primary text-white",sortable:!0},{name:"price",required:!0,label:"PRECIO",align:"left",field:"price",headerClasses:"bg-primary text-white",sortable:!0},{name:"actions",label:"ACCIONES",field:"",align:"center",headerClasses:"bg-primary text-white"}],showFormChangeStatusService:!1}},watch:{"filter.field.value":function(){this.getList({pagination:this.pagination})},"filter.val":function(){this.getList({pagination:this.pagination})}},computed:{getSubTotal:function(){var t=0;return t=this.item.analysis.length>0?this.item.analysis.reduce((function(t,e){return t+parseFloat(e.price)}),0):0,t},getTotal:function(){if(this.item.analysis.length>0){var t=""===this.item.discount?0:this.item.discount,e=this.item.analysis.reduce((function(t,e){return t+parseFloat(e.price)}),0);return(e-parseFloat(t)).toFixed(2)}return 0}},mounted:function(){this.getList({pagination:this.pagination})},methods:{formChangeStatusService:function(t){parseFloat(t.balance)>0?(this.item=t,this.showFormChangeStatusService=!0):this.changeStatusService(t)},changeStatusService:function(t){var e=this;this.$axios.post(c["a"]+"/services/set-status",{id:t.id}).then((function(t){e.$noty.positive(t.data),e.getList({pagination:e.pagination})}))},showEditorAnalysis:function(t,e){var a=this;this.dataResult.id=t,this.showEditResult=!0,this.statusEditResult=e,setTimeout((function(){a.$axios.get(c["a"]+"/services/get-content/"+t).then((function(t){a.dataResult.content=t.data}))}),1e3)},saveContentResult:function(){var t=this;this.$axios.post(c["a"]+"/services/store-content",this.dataResult).then((function(){t.showEditResult=!1,t.$noty.positive("Se guardo la informaciÃ³n!")}))},printQr:function(t){for(var e=t.client.replace(/ /g,"-").substring(0,22),a=0;a<t.barcode_quantity;a++){var i="^XA\n        ^FO30,0^ADN,11,7^FD"+e+"^FS\n        ^FO30,25^BY2^BCN,60,N,N\n        ^FT30,90^A0N,23,26^FH^FD"+t.barcode+"^FS\n        ^PQ1,0,1,Y^XZ\n        ^XZ",s=window.open("","print","height:100,width:100");s.document.open("text/plain"),s.document.write(i),s.document.close(),s.focus(),s.print(),s.close()}},setItemDet:function(t){this.itemDetail.price=t.price,this.itemDetail.description=t.description,this.itemDetail.code=t.code},close:function(){Object(c["d"])("list",this.views),this.getList({pagination:this.pagination})},filterFn:function(t,e){var a=this;e(""!==t?function(){var e=t.toLowerCase();a.analysisSearch=a.analysis.filter((function(t){return t.description.toLowerCase().indexOf(e)>-1}))}:function(){a.analysisSearch=a.analysis})},filterFnClients:function(t,e){var a=this;e(""!==t?function(){var e=t.toLowerCase();a.clientsSearch=a.clients.filter((function(t){return t.names.toLowerCase().indexOf(e)>-1}))}:function(){a.clientsSearch=a.clients})},filterFnDoctors:function(t,e){var a=this;e(""!==t?function(){var e=t.toLowerCase();a.doctorsSearch=a.doctors.filter((function(t){return t.names.toLowerCase().indexOf(e)>-1}))}:function(){a.doctorsSearch=a.doctors})},getList:function(t){var e=this,a={pagination:t.pagination,filter:this.filter};this.dataLabel="Cargando datos...",this.loading=!0,this.$axios.post(c["a"]+"/services/list",a).then((function(a){e.datas=a.data.list,e.dataLabel=e.datas.length>=0?"":"No hay datos que mostrar...",e.pagination=t.pagination,e.pagination.rowsNumber=a.data.total,e.loading=!1}))},newItemDetail:function(){this.itemDetail=U({},this.itemDetailClear),this.isItemDetailEdit=!1,this.showFormDetail=!0},addItemDetail:function(){var t=this,e=this.item.analysis.find((function(e){return e.analysis_id===t.itemDetail.analysis_id}));void 0===e?(this.itemDetail.id=Object(c["c"])(5),this.itemDetail.analysis_id=this.analysis_aux.id,this.item.analysis.push(U({},this.itemDetail)),this.itemDetail=U({},this.itemDetailClear),this.showFormDetail=!1):this.item.analysis.forEach((function(e){e.id===t.itemDetail.id&&(e.analysis_id=t.analysis_aux.id,e.price=t.itemDetail.price,e.code=t.itemDetail.code,e.barcode=t.itemDetail.barcode,e.barcode_quantity=t.itemDetail.barcode_quantity,t.showFormDetail=!1)})),this.isItemDetailEdit=!1},newItem:function(){var t=this;this.$axios.get(c["a"]+"/services/resources").then((function(e){t.act="post",t.clients=e.data.clients,t.analysis=e.data.analysis,t.doctors=e.data.doctors,t.client=null,t.doctor=null,t.titleForm="AÃ±adir servicio a cliente.",t.item=U({},t.itemClear),t.item.analysis=[],t.item.moment=Object(c["b"])(new Date),t.isItemEdit=!1,Object(c["d"])("news",t.views)}))},getClientList:function(){var t=this;this.$axios.get(c["a"]+"/clients/resources").then((function(e){t.clients=e.data.clients,t.showFormClient=!1}))},closeFormClient:function(){this.showFormClient=!1},getDoctorList:function(){var t=this;this.$axios.get(c["a"]+"/doctors/resources").then((function(e){t.doctors=e.data.doctors,t.showFormDoctor=!1}))},closeFormDoctor:function(){this.showFormDoctor=!1},editItem:function(t){var e=this;this.$axios.get(c["a"]+"/services/resources").then((function(a){e.clients=a.data.clients,e.analysis=a.data.analysis,e.doctors=a.data.doctors,e.titleForm="Editar servicio a cliente.",e.isItemEdit=!0,e.act="update",e.item=U({},t),e.client=e.clients.find((function(e){return e.id===t.client_id})),e.doctor=e.doctors.find((function(e){return e.id===t.doctor_id})),Object(c["d"])("news",e.views)}))},saveItem:function(){var t=this;this.item.client_id=this.client.id,this.item.doctor_id=this.doctor.id,this.$axios({method:"post",url:c["a"]+"/services/"+this.act,data:this.item}).then((function(e){t.$noty.positive(e.data),t.getList({pagination:t.pagination}),Object(c["d"])("list",t.views)})).catch((function(e){e.response.data.hasOwnProperty("errors")?t.errors=e.response.data.errors:t.$noty.negative(e.response.data)}))},getListUpdate:function(){this.getList({pagination:this.pagination}),this.showFormChangeStatusService=!1},eraserShow:function(t){this.item=U({},t),this.showFormDelete=!0},updateOfEraser:function(){this.showFormDelete=!1,this.getList({pagination:this.pagination})},IsSaveDetail:function(){var t=parseInt(this.itemDetail.price)>0,e=null!==this.analysis_aux;return e&&t},IsSaveWard:function(){var t=null!==this.client,e=""!==this.item.moment,a=""!==this.item.barcode,i=null!==this.doctor,s=this.item.analysis.length>0;return t&&e&&i&&s&&a},eraserShowItemDetail:function(t){this.itemDetail=U({},t),this.showFormDeleteItem=!0},eraserItemDetail:function(){var t=this;this.item.analysis=this.item.analysis.filter((function(e){return e.id!==t.itemDetail.id})),this.showFormDeleteItem=!0},editItemDetail:function(t){this.itemDetail=U({},t),this.analysis_aux=this.analysis.find((function(e){return e.id===t.analysis_id})),this.isItemDetailEdit=!0,this.showFormDetail=!0},applyShow:function(t){this.item=U({},t),this.showApplyForm=!0},applyToInventory:function(){var t=this;this.$axios.post(c["a"]+"/services/apply",{id:this.item.id}).then((function(e){t.showApplyForm=!1,t.$noty.positive(e.data),t.getList({pagination:t.pagination})}))}}},H=X,J=(a("06d4"),a("9989")),W=a("ead5"),Z=a("079e"),V=a("ddd8"),K=a("66e5"),tt=a("4074"),et=a("0170"),at=a("eaac"),it=a("db86"),st=a("58a8"),nt=a("4e73"),ot=a("1c1c"),rt=a("0016"),lt=a("bd08"),ct=Object(v["a"])(H,i,s,!1,null,"560212fa",null);e["default"]=ct.exports;S()(ct,"components",{QPage:J["a"],QBreadcrumbs:W["a"],QBreadcrumbsEl:Z["a"],QBtn:x["a"],QInput:C["a"],QSelect:V["a"],QItem:K["a"],QItemSection:tt["a"],QItemLabel:et["a"],QCard:w["a"],QSeparator:y["a"],QCardSection:q["a"],QTable:at["a"],QTd:it["a"],QBadge:st["a"],QMenu:nt["a"],QList:ot["a"],QIcon:rt["a"],QTr:lt["a"],QDialog:g["a"],QCardActions:_["a"]}),S()(ct,"directives",{ClosePopup:z["a"]})}}]);