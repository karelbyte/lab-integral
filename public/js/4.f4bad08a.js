(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{1272:function(t,e,a){"use strict";var i=a("885b"),s=a.n(i);s.a},"129a":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"c",(function(){return s})),a.d(e,"b",(function(){return o}));a("5df3"),a("1c4c"),a("34ef"),a("6b54"),a("06db");var i="/api",s=function(t,e){for(var a in e)e[a]=a===t};function n(t){return("0"+t.toString(16)).substr(-2)}var o=function(t){var e=new Uint8Array((t||40)/2);return window.crypto.getRandomValues(e),Array.from(e,n).join("")}},"474f":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:t.showForm,callback:function(e){t.showForm=e},expression:"showForm"}},[a("q-card",{staticStyle:{width:"700px","max-width":"80vw"}},[a("q-card-section",{staticClass:"bg-red-5"},[t._v("\n      "+t._s(t.title)+"\n    ")]),a("q-separator"),a("q-card-section",[a("p",[t._v("Seguro que desea eliminar: "),a("b",[t._v(" "+t._s(t.item[t.target]))]),t._v(" ?")]),a("p",[t._v("Esta operación es irrevercible!")])]),a("q-separator"),a("q-card-actions",{attrs:{align:"right"}},[""!==t.item.description?a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",label:"Eliminar",color:"negative"},on:{click:t.eraser}}):t._e(),a("q-btn",{attrs:{dense:"",flat:"",label:"Cerrar"},on:{click:t.close}})],1)],1)],1)},s=[],n=a("129a"),o={name:"DeleteItem",props:["showFormDelete","url","item","title","target"],data:function(){return{showForm:!1}},watch:{showFormDelete:function(){this.showForm=this.showFormDelete}},methods:{eraser:function(){var t=this;this.$axios.post(n["a"]+this.url,{id:this.item.id}).then((function(e){t.$noty.positive(e.data),t.$emit("updateList")}))},close:function(){this.$emit("updateList")}}},r=o,l=a("2877"),c=a("eebe"),d=a.n(c),u=a("24e8"),p=a("f09f"),m=a("a370"),f=a("eb85"),b=a("4b7e"),h=a("9c40"),g=a("7f67"),v=Object(l["a"])(r,i,s,!1,null,null,null);e["a"]=v.exports;d()(v,"components",{QDialog:u["a"],QCard:p["a"],QCardSection:m["a"],QSeparator:f["a"],QCardActions:b["a"],QBtn:h["a"]}),d()(v,"directives",{ClosePopup:g["a"]})},"885b":function(t,e,a){},f742:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:" q-pa-md"},[a("div",{staticClass:"gt-xs row flex q-mb-md"},[a("q-breadcrumbs",{staticClass:"text-grey"},[a("q-breadcrumbs-el",{attrs:{label:"Catalogo"}}),a("q-breadcrumbs-el",{attrs:{label:"Analisis"}}),t.views.news?a("q-breadcrumbs-el",{attrs:{label:"Nueva"}}):t._e()],1)],1),t.views.list?a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-8 col-xs-12"},[a("q-btn",{attrs:{color:"primary",label:"Nueva"},on:{click:t.newItem}})],1),a("div",{staticClass:"col-lg-4 col-xs-12 flex flex-inline"},[a("q-input",{staticStyle:{width:"49%"},attrs:{dense:"",autofocus:"",label:"filtro..."},model:{value:t.filter.val,callback:function(e){t.$set(t.filter,"val",e)},expression:"filter.val"}}),a("q-select",{staticStyle:{width:"50%"},attrs:{dense:"",options:t.filerOptions,label:"filtro por..."},scopedSlots:t._u([{key:"option",fn:function(e){return[a("q-item",t._g(t._b({},"q-item",e.itemProps,!1),e.itemEvents),[a("q-item-section",[a("q-item-label",{attrs:{caption:""}},[t._v(t._s(e.opt.label))])],1)],1)]}}],null,!1,1963659883),model:{value:t.filter.field,callback:function(e){t.$set(t.filter,"field",e)},expression:"filter.field"}})],1)]),a("div",{staticClass:"row flex"},[a("div",{staticClass:"col-lg-12 col-xs-12 q-mt-xs"},[a("q-card",[a("q-separator"),a("q-card-section",{staticClass:"section-fix"},[a("q-table",{attrs:{flat:"",data:t.datas,columns:t.columns,"row-key":"id",loading:t.loading,pagination:t.pagination,"no-data-label":t.dataLabel,"binary-state-sort":""},on:{"update:pagination":function(e){t.pagination=e},request:t.getList},scopedSlots:t._u([{key:"body-cell-actions",fn:function(e){return[a("q-td",{attrs:{props:e}},[a("q-btn",{staticClass:"q-mr-xs",attrs:{dense:"",color:"secondary",icon:"fa fa-edit"},on:{click:function(a){return t.editItem(e.row)}}}),a("q-btn",{staticClass:"q-mr-xs",attrs:{dense:"",color:"negative",icon:"fa fa-eraser"},on:{click:function(a){return t.eraserShow(e.row)}}}),a("q-btn",{staticClass:"text-black",attrs:{dense:"",color:"info",icon:"fa fa-file-pdf"},on:{click:function(a){return t.analisisShow(e.row)}}})],1)]}}],null,!1,173814006)})],1)],1)],1)])]):t._e(),t.views.news?a("div",[a("q-card",{staticStyle:{width:"100%"}},[a("q-card-section",[t._v("\n        "+t._s(t.titleForm)+"\n      ")]),a("q-separator"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-8 col-md-8 col-sm-12 col-xs-12 q-pa-sm"},[a("q-input",{staticClass:"q-mb-sm",attrs:{dense:"",outlined:"",autofocus:"",label:"Descripción"},model:{value:t.item.description,callback:function(e){t.$set(t.item,"description",e)},expression:"item.description"}})],1),a("div",{staticClass:"col-lg-4 col-md-4 col-sm-12 col-xs-12 q-pa-sm"},[a("q-input",{staticClass:"q-mb-sm",attrs:{dense:"",outlined:"",label:"Precio"},model:{value:t.item.price,callback:function(e){t.$set(t.item,"price",t._n(e))},expression:"item.price"}})],1),a("div",{staticClass:"col-lg-12 col-md-12 col-sm-12 col-xs-12 q-pa-sm",attrs:{hidden:t.templateOff}},[a("tinymce",{attrs:{id:"d1",other_options:t.tinyOptions},model:{value:t.item.content,callback:function(e){t.$set(t.item,"content",e)},expression:"item.content"}})],1),a("div",{staticClass:"col-lg-12 col-md-12 col-sm-12 col-xs-12 q-pa-sm"}),a("div",{staticClass:"col-lg-6 col-md-6 col-sm-12 col-xs-12 q-pl-sm"},[a("q-checkbox",{attrs:{label:"Se utiliza inventario"},model:{value:t.item.affects,callback:function(e){t.$set(t.item,"affects",e)},expression:"item.affects"}})],1),a("div",{staticClass:"col-lg-6 col-md-6 col-sm-12 col-xs-12 q-pl-sm q-pr-lg text-right"},[a("q-checkbox",{attrs:{label:"Ocultar plantilla"},model:{value:t.templateOff,callback:function(e){t.templateOff=e},expression:"templateOff"}})],1)]),a("q-separator"),t.item.affects?a("q-card-section",{staticClass:"section-fix"},[a("q-table",{ref:"tm",attrs:{flat:"",square:"",data:t.item.products,columns:t.productsColumns,"row-key":"id",loading:t.loading,"no-data-label":t.dataLabel},on:{request:t.getList},scopedSlots:t._u([{key:"body-cell-actions",fn:function(t){return[a("q-td",{attrs:{props:t}})]}}],null,!1,2633036465)})],1):t._e(),a("q-separator"),a("q-card-section",[t.IsSaveWard()?a("q-btn",{staticClass:"q-mr-xs",attrs:{dense:"",label:"Guardar analisis",color:"positive"},on:{click:function(e){return t.saveItem()}}}):t._e(),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",label:"Cerrar"},on:{click:function(e){return t.close()}}})],1)],1)],1):t._e(),a("delete-item",{attrs:{showFormDelete:t.showFormDelete,item:t.item,title:"Eliminar analisis",url:"/analysis/eraser",target:"description"},on:{updateList:t.updateOfEraser}})],1)},s=[],n=(a("8e6e"),a("8a81"),a("ac6a"),a("cadf"),a("06db"),a("456d"),a("c47a")),o=a.n(n),r=a("2cbf"),l=a("129a"),c=a("474f");function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){o()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var p={name:"reception",components:{DeleteItem:c["a"],tinymce:r["a"]},data:function(){return{templateOff:!1,tinyOptions:{language_url:"../statics/es.js",height:"40vh"},pagination:{sortBy:"description",descending:!0,page:1,rowsPerPage:10,rowsNumber:0},datas:[],errors:[],views:{list:!0,news:!1},columns:[{name:"description",required:!0,label:"DESCRIPCION",align:"left",field:"description",headerClasses:"bg-primary text-white",sortable:!0},{name:"price",required:!0,label:"PRECIO",align:"left",field:"price",headerClasses:"bg-primary text-white",sortable:!0},{name:"actions",label:"ACCIONES",field:"",align:"center",headerClasses:"bg-primary text-white"}],act:"post",dataLabel:"Cargando datos...",withCant:!1,cantSendToInventory:0,showFormDetail:!1,showFormDelete:!1,showApplyForm:!1,showFormDeleteItem:!1,titleForm:"",filter:{field:{value:"code",label:"Codigo",type:"text"},val:""},filerOptions:[{value:"description",label:"Descripción",type:"text"}],loading:!1,item:{id:0,description:"",content:"",affects:!1,products:[]},itemClear:{id:0,description:"",content:"",affects:!1,products:[]},products:[],productsSearch:[],isItemEdit:!1,itemDetail:{id:null,product_id:null,code:"",names:"",cant:0},itemDetailClear:{id:null,product_id:null,code:"",names:"",cant:0},productsColumns:[{name:"code",required:!0,label:"CODIGO",align:"left",field:"code",headerClasses:"bg-primary text-white",sortable:!0},{name:"names",required:!0,label:"NOMBRE",align:"left",field:"names",headerClasses:"bg-primary text-white",sortable:!0},{name:"cant",required:!0,label:"CANTIDAD",align:"left",field:"cant",headerClasses:"bg-primary text-white",sortable:!0},{name:"actions",label:"ACCIONES",field:"",align:"center",headerClasses:"bg-primary text-white"}]}},watch:{"filter.field.value":function(){this.getList({pagination:this.pagination})},"filter.val":function(){this.getList({pagination:this.pagination})}},mounted:function(){this.getList({pagination:this.pagination})},methods:{close:function(){Object(l["c"])("list",this.views),this.getList({pagination:this.pagination})},filterFn:function(t,e){var a=this;e(""!==t?function(){var e=t.toLowerCase();a.productsSearch=a.products.filter((function(t){return t.names.toLowerCase().indexOf(e)>-1}))}:function(){a.productsSearch=a.products})},getList:function(t){var e=this,a={pagination:t.pagination,filter:this.filter};this.dataLabel="Cargando datos...",this.loading=!0,this.$axios.post(l["a"]+"/analysis/list",a).then((function(a){e.datas=a.data.list,e.dataLabel=e.datas.length>=0?"":"No hay datos que mostrar...",e.pagination=t.pagination,e.pagination.rowsNumber=a.data.total,e.loading=!1}))},newItem:function(){this.act="post",this.withCant=!1,this.cantSendToInventory=0,this.titleForm="Añadir analisis",this.item=u({},this.itemClear),Object(l["c"])("news",this.views)},editItem:function(t){var e=this;Object(l["c"])("news",this.views),setTimeout((function(){e.act="update",e.item=u({},t)}),800)},saveItem:function(){var t=this;this.$axios({method:"post",url:l["a"]+"/analysis/"+this.act,data:this.item}).then((function(e){t.$noty.positive(e.data),t.getList({pagination:t.pagination}),Object(l["c"])("list",t.views)})).catch((function(e){e.response.data.hasOwnProperty("errors")?t.errors=e.response.data.errors:t.$noty.negative(e.response.data)}))},eraserShow:function(t){this.item=u({},t),this.showFormDelete=!0},updateOfEraser:function(){this.showFormDelete=!1,this.getList({pagination:this.pagination})},IsSaveWard:function(){var t=""!==this.item.description,e=this.item.price>0,a=""!==this.item.content;return e&&t&&a}}},m=p,f=(a("1272"),a("2877")),b=a("eebe"),h=a.n(b),g=a("9989"),v=a("ead5"),w=a("079e"),q=a("9c40"),C=a("27f9"),y=a("ddd8"),x=a("66e5"),O=a("4074"),S=a("0170"),_=a("f09f"),k=a("eb85"),D=a("a370"),I=a("eaac"),Q=a("db86"),F=a("8f8e"),L=a("7f67"),j=Object(f["a"])(m,i,s,!1,null,"19bd532c",null);e["default"]=j.exports;h()(j,"components",{QPage:g["a"],QBreadcrumbs:v["a"],QBreadcrumbsEl:w["a"],QBtn:q["a"],QInput:C["a"],QSelect:y["a"],QItem:x["a"],QItemSection:O["a"],QItemLabel:S["a"],QCard:_["a"],QSeparator:k["a"],QCardSection:D["a"],QTable:I["a"],QTd:Q["a"],QCheckbox:F["a"]}),h()(j,"directives",{ClosePopup:L["a"]})}}]);